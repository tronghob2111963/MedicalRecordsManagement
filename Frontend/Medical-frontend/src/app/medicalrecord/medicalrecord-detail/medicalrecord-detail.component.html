<div class="medical-record-detail-container">
    <!-- Loading State -->
    <div *ngIf="loading" class="loading-container">
        <div class="spinner"></div>
        <p>ƒêang t·∫£i th√¥ng tin b·ªánh √°n...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-container">
        <div class="error-message">
            <i class="error-icon">‚ö†Ô∏è</i>
            <p>{{ error }}</p>
        </div>
        <button class="btn btn-secondary" (click)="onBack()">Quay l·∫°i</button>
    </div>

    <!-- Medical Record Details -->
    <div *ngIf="medicalRecord && !loading && !error" class="medical-record-content">
        <!-- Header -->
        <div class="record-header">
            <div class="header-info">
                <h1>Chi ti·∫øt b·ªánh √°n #{{ medicalRecord.id }}</h1>
                <span class="status-badge" [ngClass]="getStatusClass(medicalRecord.status)">
                    {{ getStatusText(medicalRecord.status) }}
                </span>
            </div>
            <div class="header-actions">
                <button class="btn btn-outline" (click)="onEdit()">
                    <i class="icon">‚úèÔ∏è</i>
                    Ch·ªânh s·ª≠a
                </button>
                <button class="btn btn-danger" (click)="onDelete()">
                    <i class="icon">üóëÔ∏è</i>
                    X√≥a
                </button>
            </div>
        </div>

        <!-- Patient and Doctor Information -->
        <div class="info-section">
            <div class="info-grid">
                <div class="info-card">
                    <h3>Th√¥ng tin b·ªánh nh√¢n</h3>
                    <div class="info-item">
                        <label>T√™n b·ªánh nh√¢n:</label>
                        <span>{{ medicalRecord.patient_Name }}</span>
                    </div>
                </div>

                <div class="info-card">
                    <h3>Th√¥ng tin b√°c sƒ©</h3>
                    <div class="info-item">
                        <label>T√™n b√°c sƒ©:</label>
                        <span>{{ medicalRecord.doctor_Name }}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Visit Information -->
        <div class="info-section">
            <div class="info-card full-width">
                <h3>Th√¥ng tin kh√°m b·ªánh</h3>
                <div class="info-grid-2">
                    <div class="info-item">
                        <label>Ng√†y kh√°m:</label>
                        <span>{{ formatDate(medicalRecord.visit_date) }}</span>
                    </div>
                    <div class="info-item">
                        <label>Tr·∫°ng th√°i:</label>
                        <span class="status-text" [ngClass]="getStatusClass(medicalRecord.status)">
                            {{ getStatusText(medicalRecord.status) }}
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Medical Information -->
        <div class="info-section">
            <div class="info-card full-width">
                <h3>Th√¥ng tin y t·∫ø</h3>
                <div class="medical-info">
                    <div class="info-item vertical">
                        <label>Ch·∫©n ƒëo√°n:</label>
                        <div class="content-box">
                            <p>{{ medicalRecord.diagnosis }}</p>
                        </div>
                    </div>

                    <div class="info-item vertical">
                        <label>Ph∆∞∆°ng ph√°p ƒëi·ªÅu tr·ªã:</label>
                        <div class="content-box">
                            <p>{{ medicalRecord.treatment }}</p>
                        </div>
                    </div>

                    <div class="info-item vertical" *ngIf="medicalRecord.note">
                        <label>Ghi ch√∫:</label>
                        <div class="content-box">
                            <p>{{ medicalRecord.note }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-section">
            <button class="btn btn-secondary" (click)="onBack()">
                <i class="icon">‚¨ÖÔ∏è</i>
                Quay l·∫°i danh s√°ch
            </button>
            <button class="btn btn-primary" (click)="onEdit()">
                <i class="icon">‚úèÔ∏è</i>
                Ch·ªânh s·ª≠a b·ªánh √°n
            </button>
        </div>
    </div>
    </div>